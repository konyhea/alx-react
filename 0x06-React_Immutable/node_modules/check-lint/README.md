check-lint 是《前端规约》的配套工具，可以为工程一键接入规约、一键扫描和修复规约问题，保障工程的编码规范和代码质量。

## 背景

为了《前端规约》的落地，我们引入多个开源工具和规则包来实现不同的规约，包括：

| 规约 | 工具 | 规则包 |
| -------- | -------- | -------- 
| 《JavaScript 编码规约》 <br/> 《TypeScript 编码规约》 <br/> 《React 编码规约》 <br/> 《Vue 编码规约》     |  [ESLint](https://eslint.org/)   | [eslint-config-sendinfo](https://www.npmjs.com/package/eslint-config-sendinfo) |

可以看到这些工具和规则包比较零散，工程的接入和后续升级都需要一定成本。

`check-lint` 屏蔽收敛了这些依赖和配置细节，提供简单的 CLI 和 Node.js API，让工程能够一键接入、一键扫描、一键修复、一键升级，并为工程配置 git commit 卡点，降低工程实施规约的成本。

## CLI 使用

### 安装

在终端执行：

```
npm install check-lint -g
```

安装完成后，可执行 `check-lint -h` 以验证安装成功

### 功能

#### `check-lint init`：一键接入

在工程根目录执行 `check-lint init`，即可将工程一键接入规约体系，为工程安装开发阶段进行规约问题检查所需的依赖和配置，具体会做以下事情：

- 安装各种依赖
- 写入各种配置文件（到工程根目录）：包括 .eslintrc.js、.eslintignore、.prettierrc.js、.editorconfig 等；此外还会写入一个 check-lint.config.js 文件，包含 check-lint 工具的一些配置，如启用的功能、黑名单等
- 配置 git commit 卡点：使用 husky + lint-staged 设置代码提交卡点，在 git commit 时会运行 `check-lint scan`，若有规约问题则阻止提交

